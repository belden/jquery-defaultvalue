(function(jQuery){jQuery.fn.extend({defaultValue:function(o,callback){var options=o||{};var settings=jQuery.extend({defaultValue:options.defaultValue||null},options);return this.each(function(index,element){var $input=$(this);var defaultValue=settings.value||$input.attr('data-defaultValue');var callbackArguments={'input':$input};var $clone=createClone();callbackArguments.clone=$clone;$clone.insertAfter($input);var setState=function(){if($input.val().length<=0){$clone.show();$input.hide();}else{$clone.hide();$input.show();}};$input.bind('blur',setState);function createClone(){var $el;if($input.context.nodeName.toLowerCase()=='input'){$el=jQuery("<input />").attr({'type':'text'});}else if($input.context.nodeName.toLowerCase()=='textarea'){$el=jQuery("<textarea />");}
$el.attr({'value':defaultValue,'class':$input.attr('class')+' empty','size':$input.attr('size'),'style':$input.attr('style'),'tabindex':$input.attr('tabindex'),'name':'defaultvalue-clone-'+(((1+Math.random())*0x10000)|0).toString(16).substring(1)});$el.focus(function(){$el.hide();$input.show();setTimeout(function(){$input.focus();},1);});return $el;}
setState();if(callback){callback(callbackArguments);}});}});})(jQuery);